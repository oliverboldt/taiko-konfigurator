<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta charset="UTF-8" />
		<title>Meine-taiko.de</title>
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet"> 
		<style type="text/css">			
			* {
			  box-sizing: border-box;
			}

			body 
			{ 
				margin_off: 0; 
				font-family: Quicksand, sans-serif;
			}

			#wrapper
			{
				width: 800px;
				margin: auto;
				padding: 0px;
				border_off: 2px solid black;
			}

			#menu
			{
				font-size: 22px;
				border-bottom: 2px solid darkgrey;
				margin-bottom: 20px;
				padding: 5px;
			}

			.menuitem
			{
				display: inline-block;
				border: 2px solid black;
				padding: 5px 10px 5px 10px;
				margin-right: 10px;
				background-color: lightblue;
				font-weight: 500;
			}

			.menuitem-willommen
			{
				display: inline-block;
				border: 2px solid white;
				padding: 5px 10px 5px 10px;
				font-style: italic;
				background-color: white;
			}

			.meine_taiko_de
			{
				float: right;
			}

			.section
			{
				display: block;
				margin-bottom: 15px;
			}

			h1
			{
				font-size: 16px;
			}

			.floatleft
			{
				float: left;
				margin-right: 20px;
			}

			.floatright
			{
				float: right;
				margin-left: 20px;
			}

			img
			{
				width: 250px;
			}

		</style>
		<script src="taiko-data-json.js"></script>
	</head>

	<body>
		<div id=wrapper>
			<div id=menu>
				<div class="menuitem-willommen">Herzlich willkommen auf ...</div>
				<div class="menuitem meine_taiko_de" 
					onmouseover="this.style.backgroundColor = 'lightgrey';" 
					onmouseout="this.style.backgroundColor = 'lightblue';"
					>mytaikodrum.de</div>
			</div>

			<div class=section>
				<img src='image/miya-14.jpg'>
				<img src='image/miya-15.jpg'>
				<img src='image/miya-16.jpg'>
				Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
				<p></p>
				<p>Bereit? Dann klicke auf "Meine Taiko"</p>
				<div class="menuitem" 
					onmouseover="this.style.backgroundColor = 'lightgrey';" 
					onmouseout="this.style.backgroundColor = 'lightblue';"
					><a href='meine-taiko.html'>Meine Taiko !</a></div>

				<p></p>
				<p style="margin-top:150px;">Impressum | AGB</p>
			</div>
		</div>

		<script type="text/javascript">
			function findDrum(element)
			{
				if (element == null)
					return element;

				if (element.classList.contains('taiko'))
					return element;

				return findDrum(element.parentElement);
			}

			function onchange_wood(element)
			{
				var drum = findDrum(element);			
				var woodPrice = drum.querySelector("#wood_price");
				var woodColor = drum.querySelector("#wood_color");
				var price = element.value == 0 ? 0 : 60;

				element.setAttribute("data-price", price);
				element.setAttribute("data-value-ui",element.innerHTML);
				woodPrice.innerHTML = price + ",- Euro";
				updateTotalPrice(drum);

				woodColor.style.display = element.value == 2 ? 'none' : 'block';
			}

			function onclick_drumhandle(element)
			{
				var drum = findDrum(element);
				var image = element;
				var description = drum.querySelector("#handle_option_text");
				var descriptionPrice = drum.querySelector("#handle_option_text_price");
				var allOptions = image.parentElement.querySelectorAll("img");

				for (i=0; i<allOptions.length; i++)
				{
					allOptions[i].classList.remove("img-option-selected");
				}

				image.classList.add("img-option-selected");
				var price = image.getAttribute("data-price-option");
				image.parentElement.setAttribute("data-price",price);
				image.parentElement.setAttribute("data-value",image.id);
				image.parentElement.setAttribute("data-value-ui",image.getAttribute("data-option-description"));

				description.innerHTML = image.getAttribute("data-option-description");
				descriptionPrice.innerHTML = price + ",- Euro";

				updateTotalPrice(drum);
			}

			function onclick_drumcolor(element)
			{
				var drum = findDrum(element);
				var image = element; 
				var description = drum.querySelector("#color_option_text");
				var wood_color = drum.querySelector("#wood_color"); // div
				var allOptions = image.parentElement.querySelectorAll("img");

				for (i=0; i<allOptions.length; i++)
				{
					allOptions[i].classList.remove("img-option-selected");
				}

				image.classList.add("img-option-selected");
				description.innerHTML = image.getAttribute("data-option-description");
				wood_color.setAttribute	("data-value",image.id);
			}

			function onclick_optionsButton(element)
			{
				var drum = findDrum(element);
				var optionsSection = drum.querySelector("#options-section");

				if (optionsSection.style.display == 'none')
				{
					optionsSection.style.display = 'block';
					updateTotalPrice(drum);
				}
				else
				{
					optionsSection.style.display = 'none';					
				}
			}

			function onclick_inquiryButton(element)
			{
				var drum = findDrum(element);
				var taikoName = drum.querySelector(".taiko-name");
				var drumHandles = drum.querySelector("#drum-handle");
				var	woodtype = drum.querySelector("#woodtype");
				var woodcolorName = drum.querySelector("#color_option_text"); 
				var skintype = drum.querySelector("#skintype");
				var form = document.querySelector("#transparentbackground");
				var outSize = document.querySelector("#formfield-size");
				var outHandle = document.querySelector("#formfield-handle");
				var outWood = document.querySelector("#formfield-wood");
				var outSkin = document.querySelector("#formfield-skin");

				outSize.value = taikoName.innerHTML;
				outHandle.value = drumHandles.getAttribute("data-value-ui");
				outWood.value = woodtype.getAttribute("data-value-ui") + ", " + woodcolorName.innerHTML;
				outSkin.value = skintype.value == "skin-nature" ? "Naturfelle" : "WeiÃŸe Felle";
				form.style.display = 'block';
				
				/*
				window.open("inquiry.html?id=" + drum.id 
					+ "&woodtype=" + woodtype.value
					+ "&woodcolor=" + woodcolor.getAttribute("data-value")
					+ "&drumhandle=" + drumHandles.getAttribute("data-value")
					+ "&skintype=" + encodeURI(skintype.value)
					);*/
			}

			function updateTotalPrice(drum)
			{
				var list = drum.querySelectorAll("[data-price]");
				var price = 0.0;

				for (i=0; i<list.length; i++)
				{
					price += parseInt(list[i].getAttribute("data-price"));
				}

				drum.querySelector(".totalprice").innerHTML = price;
				drum.querySelector(".totalprice").innerHTML += ",- Euro";
			}

			function onclick_searchButton()
			{
				var taikos = document.querySelectorAll('.taiko');

				for (i=0; i<taikos.length; i++)
				{
					var element = taikos[i];
					var price = parseInt(element.getAttribute('data-price'));

					if (price > 900
					&&  price < 1400)
					{
						element.style.display = "block";
					}
					else
					{
						element.style.display = "none";
					}
				}
			}
		</script>
	</body>

</html>